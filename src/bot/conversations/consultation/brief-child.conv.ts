/* eslint-disable unicorn/no-for-loop */
/* eslint-disable no-param-reassign */
/* eslint-disable no-continue */
/* eslint-disable unicorn/prevent-abbreviations */
/* eslint-disable no-await-in-loop */
import { Keyboard } from "grammy";
import { type Conversation } from "@grammyjs/conversations";
import { Context } from "#root/bot/context.js";
import { IBriefQuestion } from "#root/typing.js";

export const questions: IBriefQuestion[] = [
  {
    text: "–í–∞—à–∞ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è",
  },
  {
    text: "–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è —Å–∏–ª—å–Ω–æ —É—Ö—É–¥—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏ —Ä–µ–±—ë–Ω–∫–∞",
  },
  {
    text: "–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–º–µ—á–∞–ª–∏—Å—å —É –≤–∞—à–µ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –∫–æ–≥–¥–∞-–ª–∏–±–æ –≤ –ø—Ä–æ—à–ª–æ–º",
  },
  {
    text: "–£–∫–∞–∂–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∑–¥–æ—Ä–æ–≤—å—è –±–ª–∏–∑–∫–∏—Ö –∫—Ä–æ–≤–Ω—ã—Ö —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤",
  },
  // {
  //   text: "–ö–∞–∫ –ø—Ä–æ—à–ª–∏ —Ä–æ–¥—ã? –ö–µ—Å–∞—Ä–µ–≤–æ —Å–µ—á–µ–Ω–∏–µ/–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ/—Å—Ä–æ—á–Ω—ã–µ (–≤ —Å—Ä–æ–∫)/–ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ",
  // },
  // {
  //   text: "–°–∫–æ–ª—å–∫–æ –∫–≥ –º–∞–º–∞ –Ω–∞–±—Ä–∞–ª–∞ –≤ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å?",
  // },
  // {
  //   text: "–î–æ –∫–∞–∫–æ–≥–æ –º–µ—Å—è—Ü–∞ –±—ã–ª–æ –≥—Ä—É–¥–Ω–æ–µ –≤—Å–∫–∞—Ä–º–ª–∏–≤–∞–Ω–∏–µ?",
  // },
  // {
  //   text: "–í–æ —Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ —Ä–µ–±–µ–Ω–æ–∫ –ø–æ—à–µ–ª?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ –∞–≥—Ä–µ—Å—Å–∏—è –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –æ–∫—Ä—É–∂–∞—é—â–∏–º?",
  // },
  // {
  //   text: "–ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ –≤ –ø–µ—Ä–≤—ã–π –≥–æ–¥ –∂–∏–∑–Ω–∏?",
  // },
  // {
  //   text: "–£–∫–∞–∂–∏—Ç–µ —Ä–æ—Å—Ç –∏ –≤–µ—Å —Ä–µ–±—ë–Ω–∫–∞",
  // },
  // {
  //   text: "–ß–µ–º –æ–±—ã—á–Ω–æ –∑–∞–≤—Ç—Ä–∞–∫–∞–µ—Ç —Ä–µ–±—ë–Ω–æ–∫ –∏ –≤ –∫–∞–∫–æ–µ –≤—Ä–µ–º—è?",
  // },
  // {
  //   text: "–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å —Ä–µ–±–µ–Ω–æ–∫ –µ—Å—Ç, –≤–∫–ª—é—á–∞—è –ø–µ—Ä–µ–∫—É—Å—ã?",
  // },
  // {
  //   text: `–ù–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—â–∏ –í—ã —Å—ä–µ–¥–∞–µ—Ç–µ –≤–æ –≤—Ä–µ–º—è`,
  //   keyboard: new Keyboard()
  //     .text("–ó–∞–≤—Ç—Ä–∞–∫–∞")
  //     .row()
  //     .text("–û–±–µ–¥–∞")
  //     .row()
  //     .text("–£–∂–∏–Ω–∞")
  //     .resized()
  //     .oneTime(),
  //   type: "select",
  // },
  // {
  //   text: "–°–∫–æ–ª—å–∫–æ, –≤ —Å—Ä–µ–¥–Ω–µ–º, –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç –º–µ–∂–¥—É –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º —É–∂–∏–Ω–∞ –∏ –æ—Ç—Ö–æ–¥–æ–º –∫–æ —Å–Ω—É?",
  // },
  // {
  //   text: "–õ—é–±–∏–º—ã–µ –±–ª—é–¥–∞ (–ø—Ä–æ–¥—É–∫—Ç—ã) –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —á–∞—â–µ 3 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é",
  // },
  // {
  //   text: "–û–ø–∏—à–∏—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Ü–∏–æ–Ω —Ä–µ–±–µ–Ω–∫–∞",
  // },
  // {
  //   text: "–ò–º–µ–µ—Ç –ª–∏ —Ä–µ–±—ë–Ω–æ–∫ —Ç—è–≥—É –∫ —Å–æ–ª–µ–Ω–æ–π –ø–∏—â–µ?",
  // },
  // {
  //   text: "–°–∫–æ–ª—å–∫–æ –≤–æ–¥—ã —Ä–µ–±–µ–Ω–æ–∫ –ø—å–µ—Ç –≤ –¥–µ–Ω—å?",
  // },
  // {
  //   text: "–ó–∞–Ω—è—Ç–∏—è —Å–ø–æ—Ä—Ç–æ–º –∏–ª–∏ —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–æ–π? –ö–∞–∫–æ–π –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞? –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é?",
  // },
  // {
  //   text: "–î–µ–ª–∞–ª–∏—Å—å –ª–∏ –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–µ –ø—Ä–∏–≤–∏–≤–∫–∏?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –≤–∞–∫—Ü–∏–Ω—ã?",
  // },
  // {
  //   text: "–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –ª–∏ –≤–∞—Å —Å–æ–Ω —Ä–µ–±—ë–Ω–∫–∞?",
  // },
  // {
  //   text: "–ü—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –ª–∏ —Ä–µ–±—ë–Ω–æ–∫ –ø–æ –Ω–æ—á–∞–º?",
  // },
  // {
  //   text: "–ü—Ä–æ—Å–Ω—É–≤—à–∏—Å—å –Ω–æ—á—å—é, –æ–ø—è—Ç—å —É—Å–Ω—É—Ç—å —Ç—Ä—É–¥–Ω–æ?",
  // },
  // {
  //   text: "–ù–æ—á—å—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è, —á—Ç–æ–±—ã –ø–æ–º–æ—á–∏—Ç—å—Å—è? –ï—Å–ª–∏ –¥–∞, —Ç–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑?",
  // },
  // {
  //   text: "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞ –ª–µ–≥–∫–æ–µ –∏–ª–∏ —Ç—è–∂—ë–ª–æ–µ –∏ –¥–æ–ª–≥–æ–µ?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ –Ω–∞–ª—ë—Ç –Ω–∞ —è–∑—ã–∫–µ —É —Ä–µ–±–µ–Ω–∫–∞?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ –æ—Ç–ø–µ—á–∞—Ç–∫–∏ –∑—É–±–æ–≤ –ø–æ –±–æ–∫–∞–º?",
  // },
  // {
  //   text: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ —è–∑—ã–∫?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ —Ç—Ä–µ—â–∏–Ω–∫–∏ –Ω–∞ —è–∑—ã–∫–µ?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ –ª—É–Ω–∫–∏ –Ω–∞ –Ω–æ–≥—Ç–µ–≤–æ–π –ø–ª–∞—Å—Ç–∏–Ω–µ? –°–∫–æ–ª—å–∫–æ —à—Ç—É–∫? –ù–∞ –∫–∞–∫–∏—Ö –ø–∞–ª—å—Ü–∞—Ö?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –±–µ–ª—ã–µ –ø—è—Ç–Ω–∞ –Ω–∞ –ø–ª–∞—Å—Ç–∏–Ω–µ?",
  // },
  // {
  //   text: "–ù–æ–≥—Ç–∏ —Ä–∏—Ñ–ª–µ–Ω—ã–µ?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –∑–∞—É—Å–µ–Ω—Ü—ã?",
  // },
  // {
  //   text: "–°–∏–ª—å–Ω–æ –ª–∏ —Ä–µ–±–µ–Ω–æ–∫ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∑–∞–ø–∞—Ö–∏(–¥—É—Ö–∏, –∫—Ä–∞—Å–∫–∞)?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ –≤–∑–¥—É—Ç–∏—è –ø–æ—Å–ª–µ –µ–¥—ã –∏–ª–∏ –∫ –≤–µ—á–µ—Ä—É –∂–∏–≤–æ—Ç –∑–∞–º–µ—Ç–Ω–æ –Ω–∞–¥—É–≤–∞–µ—Ç—Å—è?",
  // },
  // {
  //   text: "–°—Ç—É–ª –∫–∞–∂–¥—ã–π –¥–µ–Ω—å?",
  // },
  // {
  //   text: "–°—Ç—É–ª –∂–∏—Ä–Ω—ã–π, –ø–ª–æ—Ö–æ —Å–º—ã–≤–∞–µ—Ç—Å—è –∏ –ø–∞—á–∫–∞–µ—Ç —Å—Ç–µ–Ω–∫–∏ —É–Ω–∏—Ç–∞–∑–∞?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –ª–∏ —Ä–µ–∑–∫–∏–π –∑–∞–ø–∞—Ö –æ—Ç —Å—Ç—É–ª–∞?",
  // },
  // {
  //   text: "–°—Ç—É–ª –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π –∫–æ–ª–±–∞—Å–∫–æ–π?",
  // },
  // {
  //   text: "–†–µ–±–µ–Ω–æ–∫ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ö–æ–¥–∏—Ç—å –ø–æ-–±–æ–ª—å—à–æ–º—É —Å–∏–¥—è?",
  // },
  // {
  //   text: "–¢—Ä—ë—Ç –≥–ª–∞–∑–∞, –∂–∞–ª—É–µ—Ç—Å—è –Ω–∞ ¬´–ø–µ—Å–æ–∫¬ª –≤ –≥–ª–∞–∑–∞—Ö?",
  // },
  // {
  //   text: "–û—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ—Å–∏—Ç—å –æ–¥–µ–∂–¥—É?",
  // },
  // {
  //   text: "–û—Ç—Ä—ã–∂–∫–∞ –≤–æ–∑–¥—É—Ö–æ–º –ø–æ—Å–ª–µ –µ–¥—ã –µ—Å—Ç—å?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç —Å–ª–∏–∑—å –ø–æ –∑–∞–¥–Ω–µ–π —Å—Ç–µ–Ω–∫–µ –Ω–æ—Å–∞ , —Å–æ–ø–ª–∏  ,–∫–æ–≥–¥–∞ —Ä–µ–±–µ–Ω–æ–∫ –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏–ª–∏ –∑–∞—Å—ã–ø–∞–µ—Ç?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã–π –∑–∞–ø–∞—Ö –∏–∑–æ —Ä—Ç–∞?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç –ª–∏ —Ç–∞–∫–æ–µ, —á—Ç–æ —Ä–µ–±–µ–Ω–æ–∫ —Ö–æ–¥–∏—Ç –Ω–∞ –Ω–æ—Å–æ—á–∫–∞—Ö?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç –ø–æ–≤—ã—à–µ–Ω–Ω–æ–µ –≥–∞–∑–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ?",
  // },
  // {
  //   text: "–°–∏–ª—å–Ω–∞—è —Ç—è–≥–∞ –∫ —Å–ª–∞–¥–∫–æ–º—É?",
  // },
  // {
  //   text: "–°–∏–ª—å–Ω–∞—è —Ç—è–≥–∞ –∫ –º–æ–ª–æ—á–Ω—ã–º –ø—Ä–æ–¥—É–∫—Ç–∞–º?",
  // },
  // {
  //   text: "–†–µ–±–µ–Ω–æ–∫ –º–∞–ª–æ–µ–∂–∫–∞?",
  // },
  // {
  //   text: "–ó—É–¥ –≤ –æ–±–ª–∞—Å—Ç–∏ –∑–∞–¥–Ω–µ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞? –°–∫—Ä–µ–∂–µ—Ç –∑—É–±–∞–º–∏ –ø–æ –Ω–æ—á–∞–º?",
  // },
  // {
  //   text: "–û–±–ª–∞–∑–∏—Ç –∫–æ–∂–∞ –Ω–∞ —Ä—É–∫–∞—Ö, –≤–æ–∑–ª–µ –Ω–æ–≥—Ç–µ–π?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç –ª–∏ –±–æ–ª—å –≤–æ–∑–ª–µ –ø—É–ø–∫–∞?",
  // },
  // {
  //   text: "–ü–æ—Ç–ª–∏–≤–æ—Å—Ç—å –Ω–æ—á—å—é, –æ—Å–æ–±–µ–Ω–Ω–æ –≥–æ–ª–æ–≤–∞ –∏ –æ–±–ª–∞—Å—Ç—å —à–µ–∏ –∏ –ø–ª–µ—á?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç –ª–∏ –≥–µ—Ä–ø–µ—Å –Ω–∞ –≥—É–±–∞—Ö?",
  // },
  // {
  //   text: "–ë—ã–≤–∞–µ—Ç –æ—Ç–µ—á–Ω–æ—Å—Ç—å –ª–∏—Ü–∞ –ø–æ —É—Ç—Ä–∞–º, –æ—Å–æ–±–µ–Ω–Ω–æ –æ–±–ª–∞—Å—Ç—å –≥–ª–∞–∑?",
  // },
  // {
  //   text: "–ö–æ–∂–∞ —Å—Ç–∞–ª–∞ —Å—É—Ö–æ–π, ¬´–≥—É—Å–∏–Ω–∞—è –∫–æ–∂–∞¬ª?",
  // },
  // {
  //   text: "–°–Ω–∏–∂–µ–Ω–æ –∑—Ä–µ–Ω–∏–µ?",
  // },
  // {
  //   text: "–ü–æ—è–≤–ª—è—é—Ç—Å—è –ª–∏ –∫—Ä–∞—Å–Ω—ã–µ —Ä–æ–¥–∏–Ω–∫–∏ –Ω–∞ —Ç–µ–ª–µ?",
  // },
  // {
  //   text: "–ù–µ—Ç –ª–∏ –ø–æ—Ç–µ–º–Ω–µ–Ω–∏–∏ –≤ –ø–æ–¥–º—ã—à–µ—á–Ω—ã—Ö –≤–ø–∞–¥–∏–Ω–∞—Ö, –ª–æ–∫—Ç—è—Ö, —à–µ–µ",
  // },
  // {
  //   text: "–ï—Å—Ç—å –∫—Ä—É–≥–∏ –ø–æ–¥ –≥–ª–∞–∑–∞–º–∏?",
  // },
  // {
  //   text: "–ï—Å—Ç—å –≥–∏–ø–µ—Ä–º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å —Å—É—Å—Ç–∞–≤–æ–≤/—Å–∫–æ–ª–∏–æ–∑/–º–∏–æ–ø–∏—è/–∞—Å—Ç–∏–≥–º–∞—Ç–∏–∑–º?",
  // },
  // {
  //   text: "–°–∫–ª–µ—Ä—ã –≥–ª–∞–∑ –ß–ò–°–¢–û –ë–ï–õ–´–ï /–ñ–ï–õ–¢–û–í–ê–¢–´–ï/–ì–û–õ–£–ë–´–ï",
  // },
  // {
  //   text: "–†–µ–±–µ–Ω–æ–∫ –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —É—Å—Ç–∞–ª–æ—Å—Ç—å?",
  // },
  // {
  //   text: "–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–∏ —Ä–µ–±–µ–Ω–æ–∫ —Å–µ–π—á–∞—Å –ª–µ–∫–∞—Ä—Å—Ç–≤–∞/ –ø–∏—â–µ–≤—ã–µ –¥–æ–±–∞–≤–∫–∏?",
  // },
];
export async function briefChildConversation(
  conversation: Conversation<Context>,
  ctx: Context
) {
  const answersCount = conversation.session.consultation.answers.length;
  await ctx.deleteMessage();
  for (let i = answersCount; i < questions.length; i += 1) {
    if (!questions[i].type) {
      await ctx.reply(questions[i].text);
      const answer = await conversation.waitFor("message:text");
      if (
        answer.message.text === "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" ||
        answer.message.text === "/start"
      ) {
        return ctx.conversation.exit();
      }
      conversation.session.consultation.answers.push(answer.message.text);
      continue;
    } else if (questions[i].type === "select" && questions[i].keyboard) {
      await ctx.reply(questions[i].text, {
        reply_markup: questions[i].keyboard,
      });
      const answer = await conversation.waitFor("message:text");
      if (
        answer.message.text === "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" ||
        answer.message.text === "/start"
      ) {
        return ctx.conversation.exit();
      }
      conversation.session.consultation.answers.push(answer.message.text);
      continue;
    }
  }
}
